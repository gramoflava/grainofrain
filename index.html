<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Grain of Rain</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" />
  <link rel="stylesheet" href="./styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script type="module" src="./js/ui.js"></script>
</head>
<body>
  <main class="container-fluid">
    <header id="config-bar">
      <form id="controls" aria-label="Data configuration">
        <div class="controls-row">
          <input id="start" type="text" inputmode="numeric" placeholder="YYYY-MM-DD" pattern="\d{4}-\d{2}-\d{2}" maxlength="10" />
          <input id="end" type="text" inputmode="numeric" placeholder="YYYY-MM-DD" pattern="\d{4}-\d{2}-\d{2}" maxlength="10" />

          <button id="apply" type="submit" class="primary">Apply</button>
          <div class="spacer"></div>
          <button id="copy" type="button" title="Copy charts">📋</button>
          <button id="download" type="button" title="Download charts">💾</button>
          <button id="reset" type="button" title="Reset app" class="danger">♻️</button>
        </div>

        <div id="city-inputs">
          <div class="city-row" data-city-index="0">
            <div class="city-autocomplete">
              <label for="city-0" class="sr-only">City 1</label>
              <input id="city-0" class="city-input" placeholder="City" autocomplete="off" aria-autocomplete="list" aria-expanded="false" />
              <div id="city-dropdown-0" class="city-dropdown" role="listbox"></div>
            </div>
            <button type="button" class="city-action-btn add-btn" id="add-city-btn" title="Add city">+</button>
          </div>
          <div class="city-row" data-city-index="1" style="display: none;">
            <div class="city-autocomplete">
              <label for="city-1" class="sr-only">City 2</label>
              <input id="city-1" class="city-input" placeholder="City 2" autocomplete="off" aria-autocomplete="list" aria-expanded="false" />
              <div id="city-dropdown-1" class="city-dropdown" role="listbox"></div>
            </div>
            <button type="button" class="city-action-btn remove-btn" data-remove-index="1" title="Remove city">−</button>
          </div>
          <div class="city-row" data-city-index="2" style="display: none;">
            <div class="city-autocomplete">
              <label for="city-2" class="sr-only">City 3</label>
              <input id="city-2" class="city-input" placeholder="City 3" autocomplete="off" aria-autocomplete="list" aria-expanded="false" />
              <div id="city-dropdown-2" class="city-dropdown" role="listbox"></div>
            </div>
            <button type="button" class="city-action-btn remove-btn" data-remove-index="2" title="Remove city">−</button>
          </div>
        </div>
      </form>
    </header>

    <div id="workspace">
      <section id="charts" aria-label="Forecast charts">
        <div class="chart-card">
          <header>Temperature · Climate Norm · Wind</header>
          <div id="chart-temp" class="chart" role="img" aria-label="Temperature chart"></div>
        </div>
        <div class="chart-card">
          <header>Precipitation · Humidity</header>
          <div id="chart-hydro" class="chart" role="img" aria-label="Hydrology chart"></div>
        </div>
      </section>
      <aside id="panel">
        <section id="stats" aria-live="polite"></section>
      </aside>
    </div>
  </main>
</body>
</html>
